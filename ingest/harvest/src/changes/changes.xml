<?xml version="1.0" encoding="UTF-8"?>

<!--
  Copyright 2010-2015, by the California Institute of Technology.
  ALL RIGHTS RESERVED. United States Government Sponsorship acknowledged.
  Any commercial use must be negotiated with the Office of Technology Transfer
  at the California Institute of Technology.

  This software is subject to U. S. export control laws and regulations
  (22 C.F.R. 120-130 and 15 C.F.R. 730-774). To the extent that the software
  is subject to U.S. export control laws and regulations, the recipient has
  the responsibility to obtain export licenses or other export authority as
  may be required before exporting such information to foreign countries or
  providing access to foreign nationals.

  $Id$
-->

<document>
  <properties>
    <title>Release Changes</title>
    <author email="Michael.Cayanan@jpl.nasa.gov">Michael Cayanan</author>
  </properties>

  <body>
    <release version="1.10.0" date="TBD" description="TBD">
    </release>

    <release version="1.9.0" date="2015-09-30" description="This release of the Harvest Tool is a component of the integrated release 6.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="fix" issue="PDS-388">
        Fixed to handle special characters in access URL specifications.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-393">
        Strip extra whitespaces from the title metadata value in the label prior to ingestion.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-397">
        Failing to detect files in persistent mode.
      </action>
    </release>

    <release version="1.8.1" date="2015-08-05" description="This release of the Harvest Tool is a component of the integrated release 5.1.1 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="update" issue="PDS-361">
        Improved registration performance by adding capability to perform batch registration on objects.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-367">
        Fixed to create Product_File_Repository LIDs to end with an '_xml' instead of a '.xml' so that they can be properly retrieved by LID in the Registry.
      </action>
    </release>

    <release version="1.8.0" date="2015-03-31" description="This release of the Harvest Tool is a component of the integrated release 5.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="shardman, mcayanan" type="update">
        Added arguments in the shell scripts and Windows batch files to bump up the heap space memory allocation.
      </action>
      <action dev="shardman" type="update">
        Added support for the Product_SIP_Deep_Archive product type.
      </action>
    </release>

    <release version="1.7.0" date="2014-09-30" description="This release of the Harvest Tool is a component of the integrated release 5.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add" issue="PDS-289">
        Added support for reading a checksum file for performing checksum validation during a PDS3 harvest run.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-299">
        Delete harvest package if run results in no registrations.
      </action>
      <action dev="mcayanan" type="update">
        Updated to set LIDVID members of a Collection Product in a slot instead of a hard association.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to create LIDs all in lowercase letters for Product_File_Repository products.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to report to the log if a target file or directory is not readable.
      </action>
    </release>

    <release version="1.6.1" date="2014-06-02" description="This release of the Harvest Tool is a component of the integrated release 4.1.1 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="fix" issue="PDS-270">
        Modified to resolve environment variables specified within the Harvest policy file.
      </action>
      <action dev="mcayanan" type="add" issue="PDS-272">
        Added support for capturing the units designation from PDS4 labels and registering it with the registry as the slotType. For PDS3 registrations, allow the user to define the slotType in the ancillary metadata section for a given keyword.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-274">
        Modified to not register a file product more than once if it is referenced multiple times in a label.
      </action>
      <action dev="shardman" type="update">
        Modified the configuration files to extract External_Reference.reference_text from product labels.
      </action>
      <action dev="mcayanan" type="fix">
        Modified to set LIDVID-based references as slots for a Collection product when the reference type is not of type "member_ref".
      </action>
      <action dev="mcayanan" type="fix">
        Modified to replace white spaces with an underscore character for logical identifiers that are created during PDS3 registrations.
      </action>
    </release>

    <release version="1.6.0" date="2014-03-31" description="This release of the Harvest Tool is a component of the integrated release 4.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add" issue="PDS-233">
        Added support for labels utilizing xinclude statements. Label fragments will get registered as File Objects under the file type "Label Fragment".
      </action>
      <action dev="mcayanan" type="update" issue="PDS-253">
        Updated Unix shell script and Windows batch file to provide a more user friendly message when JAVA_HOME is not set in the environment.
      </action>
      <action dev="mcayanan" type="update">
        Updated to return a more descriptive message when an error occurs while creating a registry package.
      </action>
    </release>

    <release version="1.5.0" date="2013-09-30" description="This release of the Harvest Tool is a component of the integrated release 4.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add">
        Added the capability to detect a file object's mime type. This value will be added as a slot in the registry under the name 'mime_type'.
      </action>
      <action dev="mcayanan" type="add">
        Added the capability to associate a specified file object in a product label to a file type. This value will be added as a slot in the registry under the name 'file_type'.
      </action>
      <action dev="shardman" type="update">
        Modified to support v1.1 of the data model.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed so that any errors that are found while reading in the global policy file will be reported in the log.
      </action>
    </release>

    <release version="1.4.1" date="2013-06-21" description="This release of the Harvest Tool is a component of the integrated release 3.1.1 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="update">
        Updated for the v1.0 data model.
      </action>
    </release>

    <release version="1.4.0" date="2013-03-31" description="This release of the Harvest Tool is a component of the integrated release 3.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add">
        Added a mechanism in the policy config for excluding sub-directories to traverse while crawling a target directory.
      </action>
      <action dev="mcayanan" type="add">
        Added a '-D, --ignore-dir' command-line flag option to specify sub-directories to exclude while crawling a target directory.
      </action>
      <action dev="mcayanan" type="add">
        Added a 'titleContents' element in the policy config to support the customizing of a PDS3 product's 'name' in the registry.
      </action>
      <action dev="mcayanan" type="update">
        Updated policy config and command-line options to support the passing in of multiple PDS3 target directories.
      </action>
      <action dev="mcayanan" type="update">
        Updated to no longer provide any default registration of metadata for PDS3 product registration.
      </action>
      <action dev="mcayanan" type="update">
        Updated to support extraction of metadata within objects in a label for PDS3 product registrations.
      </action>
      <action dev="mcayanan" type="update">
        Updated header in the report log with additional, user specified parameters: targets, file inclusions, directory exclusions.
      </action>
      <action dev="mcayanan" type="update">
        Updated the policy config with a 'fileFilter' element instead of the 'filePattern' element to specify files to include while crawling a target directory.
      </action>
      <action dev="mcayanan" type="update">
        Updated the mechanism for specifying PDS3 target directories on the command-line. A '-pds3, --is-pds3-dir' flag option is used instead of specifying '-D, --pds3-directory' to indicate that a target directory on the command-line is for PDS3 product registration.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to allow product_class to appear as a slot.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to support handling of windows paths as offset specifications when creating access urls.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to support checksum manifest files that contain a './' in the file specs.
      </action>
    </release>

    <release version="1.3.0" date="2012-09-30" description="This release of the Harvest Tool is a component of the integrated release 3.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="update" issue="PDS-93">
        For PDS4 registration, updated to check that the logical identifier of a product does not contain URN reserved and excluded characters. If it does, issue an error message in the log and do not register the product. For PDS3 registration, if there are URN reserved and/or excluded characters, replace these with dash characters before registering the product.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-97">
        Upgraded support for PDS3 data sets. This includes making changes to the policy config to allow the logical identifier to be configurable, allow static metadata to be set, and allow the slot name for ancillary metadata to be configurable.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-98">
        Updated to support the v09 data model.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-99">
        Updated to utilize a Checksum Manifest file for storing and verifying checksums. Also added a flag in the policy config to enable/disable checksum generation.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-94">
        Fixed to key off of 'Product_Collection' and 'Product_Bundle' to determine the proper metadata extraction process.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-95">
        Fixed to not create an empty slot in the Registry for empty or null element values.
      </action>
    </release>

    <release version="1.2.0" date="2012-06-11" description="This release of the Harvest Tool is a component of the integrated release 2.2.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add" issue="PDS-71">
        Updated to compare tool generated checksums of Product_File_Repository products to its supplied value in either the inventory or associated product label (if provided).
      </action>
      <action dev="mcayanan" type="add">
        Added the -v, --verbose flag option to change the severity level of the log messaging. Default is set to Info and above.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-74">
        Updated to be able to provide an offset in the policy config to nix file paths of a registered product for an access url.
      </action>
      <action dev="mcayanan" type="update">
        Updated to map reference types found in the products to a reference type that will be registered with the product.
      </action>
      <action dev="mcayanan" type="update">
        Updated xpath expressions to support the latest changes in the PDS4 data model.
      </action>
      <action dev="mcayanan" type="update">
        Updated the policy config to provide the capability to specify a registry package name and description.
      </action>
      <action dev="mcayanan" type="update">
        Updated summary section of the tool report based on user feedback.
      </action>
      <action dev="mcayanan" type="update">
        Updated to print to the log the XML Extrinsic and Association descriptions that will be registered when in debug mode.
      </action>
      <action dev="mcayanan" type="update">
        Updated slot name that holds data objects specified in a product label from "dataClass" to "data_class".
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-63">
        Fixed to support registration of PDS3 labels containing multiple DATA_SET_ID values.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-73">
        Fixed to support handling of metadata extraction where the desired metadata is found multiple times in a product label.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to rely on the field_location and field_length attributes instead of commas to parse an inventory table file.
      </action>
      <action dev="mcayanan" type="remove">
        Updated to remove the validation functionality.
      </action>
      <action dev="shardman" type="remove">
        Removed the Release Notes document. This document now serves as the single source for release changes.
      </action>
    </release>

    <release version="1.1.0" date="2012-01-31" description="This release of the Harvest Tool is a component of the integrated release 2.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add">
        Added an attribute called 'slotName' to the 'xPath' element tag in the policy configuration file to allow the capability to specify customized slot names in the registry for registered metadata.
      </action>
      <action dev="mcayanan" type="add">
        Added the capability to look for the different object types specified in a data product label and stores them under the 'dataClass' slot name in the registry.
      </action>
      <action dev="mcayanan" type="add">
        Added the capability to specify targets on the command-line.
      </action>
      <action dev="mcayanan" type="add">
        Added a required -c, --config flag option to specify the harvest policy configuration file.
      </action>
      <action dev="mcayanan" type="add">
        Added a -D, --pds3-directory flag option to specify a PDS3 directory for PDS3 data product registration.
      </action>
      <action dev="mcayanan" type="update">
        Updated xpath expressions that look for specific metadata needed for product registration and tool behavior due to updates to the latest PDS4 model.
      </action>
      <action dev="mcayanan" type="update">
        Updated to set the product type to "ProductFile" when ingesting products to the PDS Storage Service.
      </action>
      <action dev="shardman" type="update">
        Cleaned up the documentation and removed the PDF generation feature.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed a bug where the tool complained about the keystore password not being specified when attempting to register to an unsecured registry instance.
      </action>
    </release>

    <release version="1.0.0" date="2011-11-09" description="This release of the Harvest Tool is a component of the integrated release 2.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="mcayanan" type="add">
        Added support for ingestion to the PDS Storage Service.
      </action>
      <action dev="mcayanan" type="add">
        Added support for providing access URLs with the registered products.
      </action>
      <action dev="mcayanan" type="add">
        Added a new command-line flag option, -k, in order to be able to pass in a keystore password when accessing a secured instance of the registry.
      </action>
      <action dev="mcayanan" type="update">
        Update to place LIDVID-based associations in the cross reference areas as slots.
      </action>
      <action dev="mcayanan" type="update">
        Update to support validation of older versions of the PDS4 data model.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-42">
        Fixed to look for the directory_path_name attribute when constructing the file specification for the document file.
      </action>
      <action dev="mcayanan" type="fix" issue="PDS-49">
        Fixed HarvestController shell script and batch file to no longer throw a NoClassDefFoundError exception.
      </action>
    </release>

    <release version="0.4.0" date="2011-08-29" description="This release of the Harvest Tool is a component of the integrated release 1.2.0 of the PDS4 System. This release is intended as a prototype release in support of the assessment of the PDS4 standards and the system components to date.">
      <action dev="mcayanan" type="add">
        Added the capability to register PDS3 data products.
      </action>
      <action dev="mcayanan" type="add">
        Added the capability to perform file object registration.
      </action>
      <action dev="mcayanan" type="update">
        Update to register associations at the end of a Harvest run.
      </action>
      <action dev="mcayanan" type="update">
        Update to register LID-based associations as slots.
      </action>
      <action dev="mcayanan" type="update">
        Update to register products to a registry package.
      </action>
      <action dev="mcayanan" type="update">
        Update to register the version ID of a data product as a slot in the registry.
      </action>
      <action dev="mcayanan" type="update">
        Update to support the latest version of the PDS Security Service.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed a bug where namespaces being defined in the configuration policy file were not being recognized.
      </action>
      <action dev="mcayanan" type="fix">
        Fixed a bug to support crawling of multiple targets when running the tool in persistence mode.
      </action>
    </release>

    <release version="0.3.0" date="2011-03-25" description="This release of the Harvest Tool is a component of the integrated release 1.1.0 of the PDS4 System. This release is intended as a prototype release in support of the assessment of the PDS4 standards and the system components to date.">
      <action dev="mcayanan" type="add">
        Added the capability to perform validation on a product label before being ingested into the registry.
      </action>
      <action dev="mcayanan" type="add">
        Added a new tag in the policy file that gives the ability to turn off validation.
      </action>
      <action dev="mcayanan" type="add">
        Added the capability to allow the Harvest Tool to run in continuous mode via a daemon.
      </action>
      <action dev="mcayanan" type="add">
        Added a slot called 'verified' in the associations to indicate if the target reference exists in the registry at the time the association was registered.
      </action>
      <action dev="mcayanan" type="update" issue="PDS-2">
        Update to make sure that an association does not exist in the registry before attempting to register it.
      </action>
      <action dev="mcayanan" type="update">
        Update to interface with the latest version of the Security Service.
      </action>
      <action dev="mcayanan" type="update">
        Update to tie associations together with GUIDs instead of LIDVIDs.
      </action>
      <action dev="mcayanan" type="update">
        Update to perform more robust checking and reporting of malformed association entries (example: an association entry missing the LID-VID tag).
      </action>
      <action dev="mcayanan" type="fix">
        Fixed to register the associations in the cross reference area of a collection.
      </action>
    </release>

    <release version="0.2.0" date="2010-10-31" description="This release of the Registry Service is a component of the integrated release 1.0.0 of the PDS4 System. This release is intended as a prototype release in support of the assessment of the PDS4 standards.">
      <action dev="mcayanan" type="add">
         Added the capability to register and crawl a PDS Bundle file.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to support namespaces in the PDS4 product files. Harvest is initialized to look for expected metadata like logical_identifier, product_class, etc. within the pds namespace.
      </action>
      <action dev="mcayanan" type="update">
         Updated the Harvest tool to look for the 'product_class' tag instead of the 'object_type' tag.
      </action>
      <action dev="mcayanan" type="update">
         Updated the Harvest tool to support table-formatted collection files.
      </action>
      <action dev="mcayanan" type="update">
         Updated the Harvest tool to register associations when processing a table-formatted collection file.
      </action>
      <action dev="mcayanan" type="update">
         Updated the Harvest policy file to be able to specify namespaces and bundle files. Tag names in general were also updated. See the user guide for the latest and greatest description of the policy file.
      </action>
      <action dev="mcayanan" type="update">
         Updated the Harvest report log to show header information and a summary.
      </action>
      <action dev="mcayanan" type="update">
         Updated messaging to log the GUID upon a successful ingestion of a product into the registry.
      </action>
      <action dev="mcayanan" type="fix">
         Fix error handling in the associations for the case where a bad lidvid_reference is given (i.e. missing the version field).
      </action>
    </release>

    <release version="0.1.0" date="2010-08-25" description="This release of the Harvest Tool is a component of the integrated release 0.1.0 of the PDS4 System. This release is intended as a prototype release in support of the demonstration at the Management Council Face-to-Face meeting in August 2010.">
      <action dev="mcayanan" type="add">
         Added the capability to pass in an XML-based, policy file to the tool to find products and what metadata to register.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to register data products with a target Registry Service.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to register a PDS Inventory File first before crawling the file for products.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to output log messages.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to launch the tool with a shell script or batch file.
      </action>
      <action dev="mcayanan" type="add">
         Added the capability to register associations that are in the "class" format.
      </action>
      <action dev="shardman, mcayanan" type="add">
        Provide the initial documentation covering the design, installation and operation of the software.
      </action>
    </release>
  </body>
</document>
